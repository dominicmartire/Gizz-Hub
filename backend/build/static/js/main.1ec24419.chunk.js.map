{"version":3,"sources":["services/videoService.js","App.js","index.js"],"names":["baseUrl","getVideos","a","axios","get","response","data","getVideo","id","uploadVideo","video","post","result","Video","title","file","useState","show","setShow","onClick","width","height","src","controls","UploadFile","handleSubmit","fileChange","changeTitle","onSubmit","encType","type","onChange","name","accept","Error","errorMessage","App","videos","setVideos","Blob","setFile","errorState","setErrorState","setErrorMessage","setTitle","videoContainers","setVideoContainers","useEffect","videoService","then","document","components","map","v","key","submitFile","e","preventDefault","size","setTimeout","formData","FormData","append","console","log","f","target","files","value","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.1ec24419.chunk.js","sourcesContent":["import axios from 'axios'\r\n\r\nconst baseUrl = \"http://localhost:3001\"\r\n\r\nconst getVideos = async () => {\r\n    const response = await axios.get(`${baseUrl}/videos`)\r\n    return response.data\r\n}\r\n\r\nconst getVideo = async (id) =>{\r\n    const response = await axios.get(`${baseUrl}/videos/${id}`)\r\n    return response.data\r\n}\r\n\r\nconst uploadVideo = async (video) =>{\r\n    const result = await axios.post(`${baseUrl}/videos`, video)\r\n    return result.data\r\n}\r\n\r\nexport default {getVideos, uploadVideo, getVideo}","import React, {useState, useEffect} from 'react';\r\nimport './App.css';\r\nimport videoService from './services/videoService';\r\n\r\n\r\nconst Video = ({title, file}) => {\r\n  const [show, setShow] = useState(false)\r\n  return(\r\n    <div>\r\n      <h2  onClick={()=>setShow(!show)}>{title}</h2>\r\n      {show ? <video id=\"video\" width=\"320\" height=\"240\" src={file} controls>\r\n      </video> : null}\r\n    </div>\r\n  )\r\n}\r\n\r\nconst UploadFile = ({handleSubmit, fileChange, changeTitle}) =>{\r\n  return(\r\n    <div>\r\n      <div>Upload new video</div>\r\n      <form onSubmit={handleSubmit} encType=\"multipart/form-data\">\r\n        <div>\r\n          <input type=\"text\" onChange={changeTitle}/>\r\n        </div>\r\n        <div>\r\n          <input type=\"file\" name=\"file\" accept=\".mp4, .wav, .ogg, .ogv\" onChange={fileChange}/>\r\n        </div>\r\n        <button type=\"submit\">Submit</button>\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst Error = ({errorMessage}) =>{\r\n  return(\r\n    <div>\r\n      {errorMessage}\r\n    </div>\r\n  )\r\n}\r\n\r\nconst App = () =>{\r\n  const [videos, setVideos] = useState([])\r\n  const [file, setFile] = useState(new Blob())\r\n  const [errorState, setErrorState] = useState(false)\r\n  const [errorMessage, setErrorMessage] = useState('');\r\n  const [title, setTitle] = useState('')\r\n  const [videoContainers, setVideoContainers] = useState([])\r\n\r\n  useEffect(()=>{\r\n    videoService.getVideos().then(response=>setVideos(response))\r\n    document.title = \"Gizz Hub\"\r\n    //videoService.getVideo(\"5ecc4eb9d3dc008b28f881a8\")\r\n    //setVideoContainers([<Video title={\"a\"} file={\"http://localhost:3001/videos/5ecc4eb9d3dc008b28f881a8\"} key = \"5ecc4eb9d3dc008b28f881a8\"/>])\r\n  },[])\r\n\r\n  useEffect(()=>{\r\n    const components = videos.map(v=>{\r\n\r\n      return <Video title={v.title} file={`http://localhost:3001/videos/${v.id}`} key={v.id}/>\r\n\r\n    })\r\n    setVideoContainers(components)\r\n  },[videos])\r\n\r\n\r\n\r\n\r\n\r\n  const submitFile = async (e) =>{\r\n    e.preventDefault()\r\n    if(file.size === 0){\r\n      setErrorState(true)\r\n      setErrorMessage(\"Please upload a file\")\r\n      setTimeout(()=>{\r\n        setErrorState(false)\r\n        setErrorMessage('')\r\n      }, 5000)\r\n    }\r\n    else if(title.size === 0){\r\n      setErrorState(true)\r\n      setErrorMessage(\"File has no name\")\r\n      setTimeout(()=>{\r\n        setErrorState(false)\r\n        setErrorMessage('')\r\n      }, 5000)\r\n    }\r\n    else{\r\n      try{\r\n        const formData = new FormData()\r\n        formData.append(\"title\", title)\r\n        formData.append(\"file\", file)\r\n        const result = await videoService.uploadVideo(formData)\r\n        console.log(result)\r\n      }\r\n      catch(e){\r\n        console.log(e)\r\n      }\r\n    }\r\n  }\r\n\r\n  const fileChange= (e) =>{\r\n    e.preventDefault()\r\n    const f = e.target.files[0]\r\n    setFile(f)\r\n  }\r\n\r\n  const changeTitle = (e) => {\r\n    e.preventDefault()\r\n    setTitle(e.target.value)\r\n    console.log(title)\r\n  }\r\n\r\n  return(\r\n  <div>\r\n    {errorState === true ? <Error errorMessage={errorMessage}/> : <div></div>}\r\n    {videoContainers}\r\n    <UploadFile handleSubmit={submitFile} fileChange={fileChange} changeTitle={changeTitle}/>\r\n  </div>)\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}